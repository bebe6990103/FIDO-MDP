@page "/passwordless/{handler?}"
@model Fido2Demo.MfaModel
@{
    Layout = "passwordlessLayout.cshtml";
}

<section class="section">
    <div class="container">
        <h1 class="title has-text-centered mb-6">FIDO2 Demo</h1>

        <div class="columns is-desktop is-variable is-8 is-centered">
            <!-- ───── Register ───── -->
            <div class="column is-5-tablet is-4-desktop">
                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title is-size-5">Register user</p>
                    </header>

                    <div class="card-content">
                        <form id="register" method="post" action="/mfa">
                            <!-- Username -->
                            <div class="field">
                                <label class="label">Username</label>
                                <div class="control has-icons-left">
                                    <input class="input" type="text" name="username" placeholder="username" required>
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-user"></i>
                                    </span>
                                </div>
                            </div>

                            <!-- Display name -->
                            <div class="field">
                                <label class="label">Display name</label>
                                <div class="control has-icons-left">
                                    <input class="input" type="text" name="displayName" placeholder="displayName">
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-id-card"></i>
                                    </span>
                                </div>
                            </div>

                            <!-- Email -->
                            <div class="field">
                                <label class="label">E-mail</label>
                                <div class="control has-icons-left">
                                    <input class="input" type="email" name="email" placeholder="user@example.com" required>
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-envelope"></i>
                                    </span>
                                </div>
                            </div>

                            <div class="field mt-5">
                                <button class="button is-dark is-fullwidth">Register</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ───── Sign-in ───── -->
            <div class="column is-5-tablet is-4-desktop">
                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title is-size-5">Sign in</p>
                    </header>

                    <div class="card-content">
                        <form id="signin" method="post" action="/mfa">
                            <!-- Username -->
                            <div class="field">
                                <label class="label">Username</label>
                                <div class="control has-icons-left">
                                    <input class="input" type="text" id="login-username" name="username" placeholder="username" required>
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-user"></i>
                                    </span>
                                </div>
                            </div>

                            <div class="field mt-5">
                                <button class="button is-dark is-fullwidth">Sign in</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 保留原本 JS -->
<script src="~/js/passwordless.register.js"></script>
<script src="~/js/passwordless.login.js"></script>
